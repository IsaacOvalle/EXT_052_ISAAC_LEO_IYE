<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BRAZUK - Registro</title>
<style>
*{ box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif; }

body{ background:#fff; color:#000; display:flex; flex-direction:column; min-height:100vh; }

header{ background:#f4c52b; display:flex; align-items:center; padding:10px 18px; height:60px; border-bottom:1px solid #fff; }
.logo{ font-weight:700; font-size:22px; color:#000; cursor:pointer; }

main{ flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 20px; text-align:center; }
h2{ font-size:28px; margin-bottom:30px; font-weight:700; }

.Sesion .Box{ background:transparent; width:100%; max-width:420px; padding:20px; display:flex; flex-direction:column; gap:16px; }

label{ text-align:left; display:block; font-size:14px; margin-bottom:6px; font-weight:bold; }

input[type="text"], input[type="email"], input[type="password"], select{
  width:100%; padding:10px; border:1px solid #000; border-radius:3px; background:#baf46a; font-size:15px;
}

input[type="submit"], button{
  width:100%; background:#000; color:#fff; border:none; padding:12px; font-weight:600; cursor:pointer; transition: background 0.2s;
}
input[type="submit"]:hover, button:hover{ background:#333; }

.botonNegro{ margin-top:16px; }
</style>
</head>
<body>

<header>
  <div class="logo"><span class="menu-icon">☰</span> BRAZUK</div>
</header>

<main>
  <h2>Crear una cuenta nueva o iniciar sesión</h2>
  <div class="Sesion">
    <div class="Box">

      <!-- Formulario de registro -->
      <form id="registroForm">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" required>

        <label for="correo">Correo electrónico</label>
        <input type="email" id="correo" name="correo" required>

        <label for="clave">Clave</label>
        <input type="password" id="clave" name="clave" required>

        <label for="fecha">Fecha de nacimiento</label>
        <select id="fecha" name="fecha" required>
          <option value="">Seleccionar</option>
          <option value="2000">2000</option>
          <option value="2001">2001</option>
          <option value="2002">2002</option>
          <option value="2003">2003</option>
          <option value="2004">2004</option>
        </select>

        <input type="submit" class="botonNegro" value="Registrarse">
      </form>

      <!-- Botón iniciar sesión -->
      <button type="button" class="botonNegro" onclick="location.href='BrazukaIS.html'">
        Iniciar Sesión
      </button>

      <!-- Botón continuar sin registrarse -->
      <button type="button" class="botonNegro" id="continuarInvitado">
        Continuar sin registrarse
      </button>

    </div>
  </div>
</main>

<footer>
  © 2025 BRAZUK - Todos los derechos reservados
</footer>

<script>
// Registro
document.getElementById("registroForm").addEventListener("submit", function(e){
  e.preventDefault();

  const nombre = document.getElementById("nombre").value.trim();
  const correo = document.getElementById("correo").value.trim();
  const clave = document.getElementById("clave").value.trim();
  const fecha = document.getElementById("fecha").value;

  if (!nombre || !correo || !clave || !fecha) {
    alert("Completa todos los campos");
    return;
  }

  // Obtener usuarios existentes
  let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

  // Verificar si correo ya existe
  if (usuarios.some(u => u.correo === correo)) {
    alert("Este correo ya está registrado");
    return;
  }

  // Agregar nuevo usuario con rol de usuario
  usuarios.push({
    nombre,
    correo,
    clave,
    fecha,
    rol: "usuario"   //Rol asignado automáticamente
  });

  localStorage.setItem("usuarios", JSON.stringify(usuarios));

  // Guardar datos de sesión del usuario recién registrado
  localStorage.setItem("nombreUsuario", nombre);
  localStorage.setItem("rolUsuario", "usuario"); 

  alert("Usuario registrado correctamente!");

  // Redirigir directamente a la página principal
  location.href = "Segundo avance_Pagina Principal.html";
});

// Continuar sin registrarse
document.getElementById("continuarInvitado").addEventListener("click", function(){
  localStorage.setItem("nombreUsuario", "Invitado");
  localStorage.setItem("rolUsuario", "invitado"); 
  location.href = "Segundo avance_Pagina Principal.html";
});
</script>


</body>
</html>
