<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BRAZUK - Jugador</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

body {
  background-color: #ffffff;
  overflow-x: hidden;
}

/* ======= HEADER ======= */
header {
  background-color: #f4c52b;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  height: 60px;
  border-bottom: 2px solid #ccc;
  position: sticky;
  top: 0;
  z-index: 3;
}

.logo {
  display: flex;
  align-items: center;
  font-weight: bold;
  font-size: 22px;
  cursor: pointer;
  line-height: 1;
  padding-top: 2px;
}

.menu-icon {
  font-size: 22px;
  margin-right: 10px;
  cursor: pointer;
}

.search-bar {
  display: flex;
  align-items: center;
  background-color: #dfffb2;
  border-radius: 25px;
  padding: 5px 15px;
  width: 40%;
}

.search-bar input {
  border: none;
  outline: none;
  background: transparent;
  width: 100%;
  padding: 5px;
  font-size: 16px;
}

.search-bar button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
}

.profile-icon {
  border: 2px solid #000;
  border-radius: 50%;
  padding: 6px;
  cursor: pointer;
}

.user-info {
  display: flex;
  align-items: center;
  gap: 8px; /* espacio entre nombre y foto */
  font-weight: 600;
  font-size: 16px;
  color: #000; /* color por defecto, cambiar√° con JS para modo oscuro */
}

.profile-icon{
  border:2px solid #000;
  border-radius:50%;
  padding:6px;      
  cursor:pointer;
  width:50px;        
  height:50px;       
  background-size: cover;
  background-position: center;
}
/* ======= MEN√öS ======= */
.menu-lateral, .menu-derecha {
  position: fixed;
  top: 0;
  height: 100vh;
  background: #f4c52b;
  box-shadow: 3px 0 14px rgba(0,0,0,0.15);
  padding-top: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  z-index: 4;
  transition: transform 0.32s ease;
  min-width: 180px;
}

.menu-lateral {
  left: 0;
  transform: translateX(-100%);
}

.menu-lateral.abierto {
  transform: translateX(0);
}

.menu-derecha {
  right: 0;
  transform: translateX(100%);
}

.menu-derecha.abierto {
  transform: translateX(0);
}

.menu-lateral button, .menu-derecha button {
  width: 80%;
  background: #baf46a;
  border: none;
  border-radius: 20px;
  padding: 10px 12px;
  font-weight: 600;
  cursor: pointer;
}

.menu-lateral button:hover, .menu-derecha button:hover {
  background: #a4e45a;
}

/* ======= CONTENIDO PRINCIPAL ======= */
#pageContent {
  transition: transform 0.32s ease;
  will-change: transform;
}

main {
  width: 90%;
  margin: 25px auto;
  background-color: #baf46a;
  border-radius: 25px;
  padding: 30px;
}

/* CABECERA DEL JUGADOR */
.header-jugador {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-jugador h1 {
  font-size: 28px;
}

/* BOTONES DE ACCI√ìN ESTILO VIDEO-INFO */
.video-actions {
  display: flex;
  gap: 10px;
}

.video-actions button {
  background-color: transparent;
  border: 2px solid #f4c52b;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 6px 12px;
  transition: 0.2s;
}

.video-actions button i {
  font-size: 18px;
}

.video-actions button.active {
  background-color: #f4c52b;
  color: #000;
  border-color: #f4c52b;
}

/* INFO PRINCIPAL */
.info-container {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
  gap: 25px;
}

.descripcion {
  flex: 2;
  font-size: 16px;
  line-height: 1.5;
}

.datos-jugador {
  flex: 1;
  background-color: #f4c52b;
  border-radius: 25px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.datos-jugador img {
  width: 100%;
  border-radius: 12px;
  margin-bottom: 10px;
}

/* VIDEOS */
.videos-section {
  margin-top: 40px;
  position: relative;
}

.videos-section h2 {
  font-size: 22px;
  margin-bottom: 10px;
}

.videos-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  background-color: #baf46a;
}

.videos-container iframe {
  width: 70%;
  height: 380px;
  border: none;
  border-radius: 15px;
  background: #eaeaea;
}

.arrow {
  position: absolute;
  font-size: 40px;
  background: none;
  border: none;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
}

#prevVideo { left: 5%; }
#nextVideo { right: 5%; }

#videoTitulo {
  position: absolute;
  top: -25px;
  font-weight: bold;
  font-size: 16px;
}

/* COMENTARIOS Y OTROS JUGADORES */
.comentarios {
  margin-top: 40px;
  background-color: #baf46a;
  border-radius: 15px;
  padding: 15px;
  display: flex;
  gap: 20px;
}

.comments-container {
  flex: 1;
}

.comment {
  background-color: #dfffb2;
  border-radius: 10px;
  padding: 8px;
  margin-bottom: 8px;
}

.otros-jugadores {
  flex: 1;
}

.otros-jugadores h3 {
  font-size: 18px;
  margin-bottom: 10px;
}

.otros-jugadores .miniatura {
  border: 2px solid #f4c52b;
  border-radius: 12px;
  overflow: hidden;
  margin-bottom: 12px;
  cursor: pointer;
  transition: transform 0.2s;
  background-color: #f4c52b; 
  text-align: center;
}

.otros-jugadores .miniatura img {
  width: 100%;
  display: block;
}

.otros-jugadores .miniatura span {
  display: block;
  font-weight: bold;
  margin-top: 4px;
  font-size: 14px;
}

.otros-jugadores .miniatura.active {
  background-color: #f4c52b;
  border-color: #f4c52b;
}
.otros-jugadores .miniatura:hover {
  transform: scale(1.05);
}

.aviso-logo {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(255, 255, 0, 0.9);
  padding: 8px 12px;
  border-radius: 6px;
  box-shadow: 0 0 6px rgba(0,0,0,0.3);
  font-size: 14px;
  z-index: 9999;
  display: flex;
  align-items: center;
  gap: 8px;
  color: #000; 
  font-weight: bold; 
}

.aviso-logo button.cerrar-aviso {
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
  padding: 0;
  margin: 0;
  color: #000; 
}

@media (max-width: 900px){ .media-item{ width:45%; } }
@media (max-width: 520px){ .media-item{ width:90%; } }
@media (max-width: 767px){ 
    header {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    height: auto;
    padding: 10px;
    gap: 10px;
  }

  .search-bar {
    order: 2;
    width: 100%;
    margin-top: 5px;
  }

  .user-info {
    order: 1;
    /*flex-direction: column;
    align-items: left;*/
    gap: 6px;
  }

  .info-container {
    flex-direction: column;
    gap: 20px;
  }

  .descripcion, .datos-jugador {
    width: 100%;
  }

  .datos-jugador img {
    max-width: 300px;
  }

  .header-jugador {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .video-actions {
    flex-wrap: wrap;
    justify-content: flex-start;
  }
.videos-container {
    flex-direction: column;
    align-items: center;
  }

  .videos-container iframe {
    width: 100%;
    height: 220px;
  }

  .arrow {
    font-size: 30px;
    top: auto;
    bottom: -40px;
    transform: none;
  }

  #prevVideo {
    left: 10px;
  }

  #nextVideo {
    right: 10px;
  }

  #videoTitulo {
    position: static;
    margin-bottom: 10px;
    text-align: center;
  }

  .fotos-container img {
    width: 100%;
    max-width: 300px;
  }
 .comentarios {
    flex-direction: column;
  }

  .otros-jugadores .miniatura {
    max-width: 300px;
    margin: 0 auto 12px;
  }



}
</style>
</head>

<body>
<div id="pageContent">
<header>
  <div class="logo">
    <span class="menu-icon">‚ò∞</span> BRAZUK
  </div>

  <div class="search-bar">
    <input type="text" placeholder="Buscar...">
    <button>üîç</button>
  </div>

  <!-- Contenedor del nombre y perfil -->
  <div class="user-info">
    <span id="nombreUsuario"></span>
    <div class="profile-icon" id="profileIcon">üë§</div>
  </div></header>

<main>
    <h2><span id="nombreUsuario"></span></h2>

  <div class="header-jugador">
    <h1 id="nombreJugador">Nombre del jugador</h1>
<div class="video-actions">
  <button id="likeBtn"><i class="fa-solid fa-thumbs-up"></i> Me gusta</button>
  <button id="saveBtn"><i class="fa-solid fa-bookmark"></i> Guardar</button>
  
  <button id="TamanoTexto">
    <i class="fa-solid fa-magnifying-glass-plus"></i> Hacer Zoom
  </button>

  <button id="Marcatexto">
    <i class="fa-solid fa-highlighter"></i> Resaltar
  </button>
</div>
  </div>

  <div class="info-container">
    <div class="descripcion" id="descripcionJugador">
      Neymar da Silva Santos J√∫nior (Mogi das Cruzes, S√£o Paulo, 5 de febrero de 1992) es un futbolista brasile√±o que juega como delantero en el Santos F. C. del Campeonato Brasile√±o de Serie A. Es internacional absoluto con la selecci√≥n de Brasil. Considerado como un destacado goleador y creador de juego, es ampliamente considerado uno de los mejores jugadores del mundo y como de los m√°s grandes talentos de la historia.
    </div>

    <div class="datos-jugador">
      <img id="imgJugador" src="https://picsum.photos/id/1005/300/200" alt="Jugador">
      <p><strong>Edad:</strong> 28 a√±os</p>
      <p><strong>Posici√≥n:</strong> Delantero</p>
      <p><strong>Club:</strong> FC Ejemplo</p>
      <p><strong>Goles:</strong> 134</p>
    </div>
  </div>

  <!-- VIDEOS -->
  <section class="videos-section">
    <h2>Mejores jugadas</h2>
    <div class="videos-container">
      <button id="prevVideo" class="arrow"><i class="fa-solid fa-chevron-left"></i></button>
      <div id="videoTitulo"></div>
      <iframe id="videoFrame" allowfullscreen></iframe>
      <button id="nextVideo" class="arrow"><i class="fa-solid fa-chevron-right"></i></button>
    </div>
  </section>

  <!-- COMENTARIOS Y OTROS JUGADORES -->
  <section class="comentarios">
    <div class="comments-container" id="comentariosContainer">
      <h3>Comentarios</h3>
    </div>

    <div class="otros-jugadores" id="otrosJugadoresContainer">
      <h3>Otros Jugadores</h3>
    </div>
  </section>
</main>
</div>

<div class="menu-lateral" id="menuLateral">
  <button onclick="location.href='Segundo avance_Ver historial.html'">Historial</button>
  <button onclick="location.href='Segundo avance_Ver guardados.html'">Guardados</button>
  <button onclick="location.href='Segundo avance_Ver me gustas.html'">Me gusta</button>
</div>

<div class="menu-derecha" id="menuPerfil">
  <button onclick="location.href='Cuenta.html'">Cuenta</button>
  <button onclick="location.href='Segundo avance_Usuario.html'">Ver mi foro</button>

  <!-- Botones que se ocultar√°n si NO eres admin -->
  <button id="btnSolicitudes" onclick="location.href='Segundo avance_Solicitudes.html'">Solicitudes</button>
  <button id="btnBaneados" onclick="location.href='Segundo avance_Baneados.html'">Baneados</button>
  <button id="btnDadasBaja" onclick="location.href='Segundo Avance_Publicaciones baneadas.html'">Dadas de baja</button>

  <button id="toggleAspecto">Aspecto: Cla/Osc</button>
  <button onclick="location.href='BrazukaR.html'">Salir</button>
</div>


<script>
// ===== MEN√öS (REEMPLAZAR BLOQUE EXISTENTE) =====
const menuLateral = document.getElementById('menuLateral');
const menuPerfil  = document.getElementById('menuPerfil');
const pageContent = document.getElementById('pageContent');
const menuIcon    = document.querySelector('.menu-icon');
const profileIcon = document.querySelector('.profile-icon');

if (!menuLateral || !menuPerfil || !pageContent || !menuIcon || !profileIcon) {
  // Si faltara alg√∫n elemento, no hacemos nada para evitar errores.
  console.warn('Elementos de men√∫ no encontrados - revisar IDs/clases');
} else {
  // Abrir/cerrar men√∫ izquierdo
  menuIcon.addEventListener('click', (e) => {
    e.stopPropagation(); // evita que el click llegue al document
    const abrir = !menuLateral.classList.contains('abierto');

    if (abrir) {
      menuLateral.classList.add('abierto');
      menuPerfil.classList.remove('abierto');
      pageContent.style.transform = "translateX(180px)";
    } else {
      menuLateral.classList.remove('abierto');
      pageContent.style.transform = "translateX(0)";
    }
  });

// FOTO DE PERFIL SEG√öN EL ROL
const rol = localStorage.getItem("rolUsuario");

const fotoUsuario = document.getElementById("fotoUsuario");

const fotos = {
  admin: "https://static.vecteezy.com/system/resources/previews/014/541/527/original/administrator-system-icon-simple-style-vector.jpg",
  usuario: "https://i0.wp.com/icon-library.com/images/user-icon-png-transparent/user-icon-png-transparent-17.jpg",
  invitado: "https://static.vecteezy.com/system/resources/previews/008/302/462/large_2x/eps10-grey-user-icon-or-logo-in-simple-flat-trendy-modern-style-isolated-on-white-background-free-vector.jpg"
};


// --- √çCONO DE LA ESQUINA ---
if (rol === "admin") {
  profileIcon.textContent = ""; 
  profileIcon.style.backgroundImage = `url('${fotos.admin}')`;
}
else if (rol === "usuario") {
  profileIcon.textContent = "";
  profileIcon.style.backgroundImage = `url('${fotos.usuario}')`;
}
else if (rol === "invitado") {
  profileIcon.textContent = "";
  profileIcon.style.backgroundImage = `url('${fotos.invitado}')`;
}

profileIcon.style.backgroundSize = "cover";
profileIcon.style.backgroundPosition = "center";

// Ocultar botones seg√∫n el rol
if (rol !== "admin") {
  document.getElementById("btnSolicitudes").style.display = "none";
  document.getElementById("btnBaneados").style.display = "none";
  document.getElementById("btnDadasBaja").style.display = "none";
}

  // Abrir/cerrar men√∫ derecho
  profileIcon.addEventListener('click', (e) => {
    e.stopPropagation();
    const abrir = !menuPerfil.classList.contains('abierto');

    if (abrir) {
      menuPerfil.classList.add('abierto');
      menuLateral.classList.remove('abierto');
      pageContent.style.transform = "translateX(-180px)";
    } else {
      menuPerfil.classList.remove('abierto');
      pageContent.style.transform = "translateX(0)";
    }
  });

  // Evitar que clicks DENTRO de los paneles lleguen al document (asi no se cierra ni se resetea transform)
  menuLateral.addEventListener('click', e => e.stopPropagation());
  menuPerfil.addEventListener('click', e => e.stopPropagation());

  // Click global: cerramos SOLO si el click ocurri√≥ fuera de LOS DOS paneles y fuera de los botones
  document.addEventListener('click', (e) => {
    const clickEnMenuIzq = menuLateral.contains(e.target) || menuIcon.contains(e.target);
    const clickEnMenuDer = menuPerfil.contains(e.target) || profileIcon.contains(e.target);

    // Si el click NO fue ni en el men√∫ ni en sus botones, cerrar todo y restaurar transform
    if (!clickEnMenuIzq && !clickEnMenuDer) {
      menuLateral.classList.remove('abierto');
      menuPerfil.classList.remove('abierto');
      pageContent.style.transform = "translateX(0)";
    }
    // Si el click fue dentro de un men√∫, NO hacer nada (por eso detenemos la propagaci√≥n antes)
  });

  // Cerrar con ESC por accesibilidad
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      menuLateral.classList.remove('abierto');
      menuPerfil.classList.remove('abierto');
      pageContent.style.transform = "translateX(0)";
    }
  });
}


// ======== DATOS DE JUGADORES ========
let jugadoresData = {
  "1": {
    nombre: "Neymar Jr",
    descripcion: "Neymar da Silva Santos J√∫nior (Mogi das Cruzes, S√£o Paulo, 5 de febrero de 1992) es un futbolista brasile√±o que juega como delantero en el Santos F. C. del Campeonato Brasile√±o de Serie A. Es internacional absoluto con la selecci√≥n de Brasil. Considerado como un destacado goleador y creador de juego, es ampliamente considerado uno de los mejores jugadores del mundo y como de los m√°s grandes talentos de la historia.",
    img: "https://media.admagazine.com/photos/639234d7b8ad7f584f3708df/16:9/w_2240,c_limit/GettyImages-1443106332.jpg",
    videos: [
      { url: "https://www.youtube.com/embed/1wvwSER_w-M?si=ggNm0gMsu3Hnwem1", titulo: "Gol impresionante" },
      { url: "https://www.youtube.com/embed/OWOjRdmpM6I?si=IwR629bKnsytknaH", titulo: "Habilidad incre√≠ble" }
    ]
  },
  "2": {
    nombre: "Cristiano Ronaldo",
    descripcion: "Cristiano Ronaldo es un futbolista portugu√©s considerado uno de los mejores de todos los tiempos. Ha jugado en clubes como Manchester United, Real Madrid y Juventus, y es m√°ximo goleador de la selecci√≥n de Portugal.",
    img: "https://hips.hearstapps.com/hmg-prod/images/cristiano-ronaldo-of-portugal-during-the-uefa-nations-news-photo-1748359673.pjpeg?crop=0.610xw:0.917xh;0.317xw,0.0829xh&resize=1800:*",
    videos: [
      { url: "https://www.youtube.com/embed/jHDTxkzwJSw?si=aRCyh1zl5XAKQ5xo", titulo: "Mejor tiro libre" },
      { url: "https://www.youtube.com/embed/XDJ9gPXZD38?si=7o_3EsKo0rHgLC7v", titulo: "Golazo de cabeza" }
    ]
  },
"3": {
  nombre: "Lionel Messi",
  descripcion: "Lionel Messi, nacido en Rosario, Argentina, es considerado uno de los mejores futbolistas de la historia. Ha jugado principalmente en el FC Barcelona y PSG, ganando m√∫ltiples Balones de Oro y t√≠tulos internacionales.",
  img: "https://upload.wikimedia.org/wikipedia/commons/b/b4/Lionel-Messi-Argentina-2022-FIFA-World-Cup_%28cropped%29.jpg",
  videos: [
    { url: "https://www.youtube.com/embed/k3IZ7BRxu0w?si=0pegw9WbG_DEBgCJ", titulo: "Regate magistral" },
    { url: "https://www.youtube.com/embed/Pi0icHS0hqg?si=-N-14PX0DuU_7UNG", titulo: "Gol de tiro libre" }
  ]
}
};

let urlParams = new URLSearchParams(window.location.search);
let jugadorId = urlParams.get("jugador") || localStorage.getItem("jugadorId") || "1";
let jugador = jugadoresData[jugadorId];

// ======== ELEMENTOS ========
const nombreJugador = document.getElementById("nombreJugador");
const imgJugador = document.getElementById("imgJugador");
const descripcionJugador = document.getElementById("descripcionJugador");
const videoFrame = document.getElementById("videoFrame");
const videoTitulo = document.getElementById("videoTitulo");
const comentariosContainer = document.getElementById("comentariosContainer");
const otrosJugadoresContainer = document.getElementById("otrosJugadoresContainer");

let currentVideo = 0;

function actualizarVideo() {
  videoFrame.src = jugador.videos[currentVideo].url;
  videoTitulo.textContent = jugador.videos[currentVideo].titulo;
}

// ======== COMENTARIOS ========
let comentariosData = {
  "1": ["Incre√≠bles jugadas üî•","Un verdadero crack ‚öΩ","El mejor delantero","Cada video mejora m√°s üëè"],
  "2": ["Golazo de chilena ü•µ","Siempre determinante ‚öΩ","Un l√≠der en el campo","Imparable en tiros libres"],
  "3": ["Regate perfecto üî•","Asistencia magistral","El mejor del mundo üåü","Cada partido es una obra de arte"]
};

function cargarComentarios() {
  comentariosContainer.innerHTML = "<h3>Comentarios</h3>";
  const comentariosJugador = comentariosData[jugadorId] || [];
  comentariosJugador.forEach(texto => {
    const div = document.createElement('div');
    div.className = 'comment';
    div.textContent = texto;
    comentariosContainer.appendChild(div);
  });
}

// ======== LIKE & GUARDAR ========
const likeBtn = document.getElementById('likeBtn');
const saveBtn = document.getElementById('saveBtn');
const HBtn= document.getElementById('TamanoTexto');
const MarkBtn=document.getElementById('Marcatexto');
function cargarEstadoBotones() {
  likeBtn.classList.toggle('active', localStorage.getItem(`like_${jugadorId}`) === "true");
  saveBtn.classList.toggle('active', localStorage.getItem(`save_${jugadorId}`) === "true");
}

likeBtn.onclick = () => {
  likeBtn.classList.toggle("active");
  const liked = likeBtn.classList.contains("active");
  localStorage.setItem(`like_jugador_${jugadorId}`, liked); 

  if(liked){
    const post = {
      id: jugadorId,  // SOLO el n√∫mero
      url: window.location.href,
      thumbnail: imgJugador.src,
      titulo: nombreJugador.textContent,
      autor: 'BRAZUK',
      tipo: 'jugador',
      timestamp: Date.now()
    };
    localStorage.setItem(`post_jugador_${jugadorId}`, JSON.stringify(post));
  } else {
    localStorage.removeItem(`post_jugador_${jugadorId}`);
  }
};



saveBtn.onclick = () => {
  saveBtn.classList.toggle("active");
  const guardado = saveBtn.classList.contains("active");
  localStorage.setItem(`save_jugador_${jugadorId}`, guardado);

  if(guardado){
    // Guardar datos completos del jugador
    const post = {
      id: `jugador_${jugadorId}`,
      url: window.location.href,
      thumbnail: imgJugador.src,
      titulo: nombreJugador.textContent,
      autor: 'BRAZUK',
      tipo: 'jugador',
      timestamp: Date.now()
    };
    localStorage.setItem(`post_jugador_${jugadorId}`, JSON.stringify(post));
  } else {
    localStorage.removeItem(`post_jugador_${jugadorId}`);
  }
};

HBtn.onclick=()=>{
  HBtn.classList.toggle("active");
  const Text = document.getElementById('descripcionJugador');
    if (HBtn.classList.contains("active")) {
    Text.style.fontSize = "45px"; // zoom activado
  } else {
    Text.style.fontSize = "16px"; // tama√±o normal
  }

};
MarkBtn.onclick = () => {
  MarkBtn.classList.toggle("active");
  const Text = document.getElementById('descripcionJugador');

  if (MarkBtn.classList.contains("active")) {
    Text.innerHTML = `<mark>${Text.textContent}</mark>`;
  } else {
    Text.innerHTML = Text.textContent; // quitar el resaltado
  }
};

// ======== VIDEOS ========
document.getElementById('nextVideo').onclick = () => {
  currentVideo = (currentVideo + 1) % jugador.videos.length;
  actualizarVideo();
};
document.getElementById('prevVideo').onclick = () => {
  currentVideo = (currentVideo - 1 + jugador.videos.length) % jugador.videos.length;
  actualizarVideo();
};

// ======== FUNCIONES DE HISTORIAL Y OTROS JUGADORES ========
function guardarJugadorHistorial(jugadorId) {
  const thumbnailEl = document.querySelector('#imgJugador');
  const thumbnailSrc = thumbnailEl?.src || 'https://via.placeholder.com/300x200';

  const post = {
    url: window.location.href,
    thumbnail: thumbnailSrc,
    titulo: document.querySelector('#nombreJugador')?.innerText || 'Nombre del jugador',
    autor: 'Jugador',
    tipo: 'imagen',
    id: `jugador_${jugadorId}`,
    timestamp: Date.now()
  };

  let historial = JSON.parse(localStorage.getItem('brazukHistorial') || '[]');
  const index = historial.findIndex(p => p.id === post.id);
  if(index >= 0){
    historial[index] = {...historial[index], timestamp: Date.now()};
    historial.unshift(historial.splice(index,1)[0]);
  } else {
    historial.unshift(post);
  }
  localStorage.setItem('brazukHistorial', JSON.stringify(historial));
}

function actualizarJugador(jId) {
  jugadorId = jId;
  jugador = jugadoresData[jugadorId];
  nombreJugador.textContent = jugador.nombre;
  imgJugador.src = jugador.img;
  descripcionJugador.textContent = jugador.descripcion;
  currentVideo = 0;
  actualizarVideo();
  cargarEstadoBotones();
  cargarComentarios();
  localStorage.setItem("jugadorId", jugadorId);

  // Actualizar URL sin recargar
  const newUrl = window.location.pathname + "?jugador=" + jugadorId;
  window.history.replaceState(null, "", newUrl);

  // Desplazamiento suave arriba
  window.scrollTo({ top: 0, behavior: "smooth" });

  // Guardar en historial
  guardarJugadorHistorial(jugadorId);

  // Recargar miniaturas
  cargarOtrosJugadores();
}

function cargarOtrosJugadores() {
  otrosJugadoresContainer.innerHTML = "<h3>Otros Jugadores</h3>";
  for (let jId in jugadoresData) {
    const miniatura = document.createElement('div');
    miniatura.className = "miniatura";

    const img = document.createElement('img');
    img.src = jugadoresData[jId].img;
    img.alt = jugadoresData[jId].nombre;

    const nombre = document.createElement('span');
    nombre.textContent = jugadoresData[jId].nombre;

    miniatura.appendChild(img);
    miniatura.appendChild(nombre);

    miniatura.onclick = () => actualizarJugador(jId);

    if(jId === jugadorId) miniatura.classList.add('active');
    otrosJugadoresContainer.appendChild(miniatura);
  }
}

// ======== INICIALIZACI√ìN ========
actualizarJugador(jugadorId);

// ======== LOGO ========
document.querySelector('.logo').onclick = () => { window.location.href = "Segundo avance_Pagina Principal.html"; };

// ===== Modo claro/oscuro =====
(function(){
  const menuPerfil = document.getElementById('menuPerfil');
  if(!menuPerfil) return;
  const btnModo = menuPerfil.querySelector('button:nth-child(6)');
  function aplicarModo(modo){
    const body = document.body;
    const pageContent = document.getElementById('pageContent');
    const header = document.querySelector('header');
    const logo = document.querySelector('.logo');

    const titulosSeccion = document.querySelectorAll('.content-section h2');
    const controles = document.querySelectorAll('.ver-mas, .ver-menos');
    const titulosMiniaturas = document.querySelectorAll('.media-item span');
    const nombreUsuarioSpan = document.getElementById('nombreUsuario');

    if(modo==='oscuro'){
      body.style.background='#000';
      if(pageContent) pageContent.style.background='#111';
      header.style.background='#000';
      if(logo) logo.style.color='#fff';
      nombreUsuarioSpan.style.color = '#fff'; 

      titulosSeccion.forEach(h2=>h2.style.color='#000');
      controles.forEach(btn=>btn.style.color='#000');
      titulosMiniaturas.forEach(span=>span.style.color='#000');
    } else {
      body.style.background='#fff';
      if(pageContent) pageContent.style.background='#fff';
      header.style.background='#f4c52b';
      if(logo) logo.style.color='#000';
      nombreUsuarioSpan.style.color = '#000';

      titulosSeccion.forEach(h2=>h2.style.color='#000');
      controles.forEach(btn=>btn.style.color='#000');
      titulosMiniaturas.forEach(span=>span.style.color='#000');
    }
  }

  let modoGuardado = localStorage.getItem('modoBrazuk') || 'claro';
  aplicarModo(modoGuardado);

  btnModo.addEventListener('click', ()=>{
    modoGuardado = (modoGuardado==='claro')?'oscuro':'claro';
    localStorage.setItem('modoBrazuk', modoGuardado);
    aplicarModo(modoGuardado);
  });
})();

const nombre = localStorage.getItem("nombreUsuario") || "Invitado";
document.getElementById("nombreUsuario").textContent = `${nombre}`;

</script>

<div id="avisoLogo" class="aviso-logo">
  <span>Aqui puedes ver toda la informacion sobre un futbolista, encuentra mas abajo</span>
  <button class="cerrar-aviso">√ó</button>
</div>
<script>
  document.querySelector(".cerrar-aviso").addEventListener("click", function () {
    document.getElementById("avisoLogo").style.display = "none";
  });
</script>

</body>
</html>
